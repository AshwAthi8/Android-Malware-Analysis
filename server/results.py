import requests
import preprocessing
import model
import os
"""
We store all the data into this class so as to 
easily render it later on
"""
class Results(object):
    def __init__(self, name):
        self.name = name

"""
This function takes a file name
and returns a Result object after processing
"""
def get_results(filename):
    # Run the module and get the results here
    upload_folder="/home/cloud28@cyberdome.org.in/server/server-files"
    filename=os.path.join(upload_folder,filename)
    permission = preprocessing.getPermmissions(filename)
    one_hot_encode = preprocessing.onehot_encode(permission)
    prediciton = model.predict(one_hot_encode)
    return Results(prediciton)